<% provide(:title, t('expertise_matrix')) %>
<h1><%= t('expertise_matrix') %></h1>

<link rel="stylesheet" media="all" href="/stylesheets/bootstrap-gtreetable.css" data-turbolinks-track="true" />
<script src="/javascripts/bootstrap-gtreetable.js"></script>

<a href="#" data-toggle="tooltip" data-placement="bottom" title="Umbraco CMS,Kentico CMS,Sitecore">Metodi Erdelski</a>
<br />

<table class="table gtreetable" id="emtechtreetbl"><thead><tr><th><%= t('technology') %></th></tr></thead></table>

<script>
$(function() {
  jQuery('#emtechtreetbl').gtreetable({
    'source': function(id) {
      return {
        type: 'GET',
        url: 'expertisematrix/emtechtreegrid',
        data: { 'id': id },
        dataType: 'json',
        error: function(XMLHttpRequest) {
          alert(XMLHttpRequest.status + ': ' + XMLHttpRequest.responseText);
        }
      }
    },
    selectLimit: 0,
    defaultActions: null,
    actions: null,
    readonly: true,
    types: {
      default : 'glyphicon glyphicon-folder-open',
      'category' : 'glyphicon glyphicon-star-empty',
      'tech' : 'glyphicon glyphicon-star'
    }
  });
  $('[data-toggle="tooltip"]').tooltip('show');
});
</script>
